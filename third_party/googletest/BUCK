cxx_library(
    name = "gtest_main",
    srcs = [
        "googletest/src/gtest_main.cc",
    ],
    visibility = ["PUBLIC"],
    exported_deps = [
        ":gtest",
    ],
)

cxx_library(
    name = "gtest",
    srcs = glob([
        "googletest/src/*.cc",
        "googlemock/src/*.cc",
    ], exclude = [
        "googletest/src/gtest-all.cc",
        "googletest/src/gtest_main.cc",
        "googlemock/src/gmock-all.cc",
        "googlemock/src/gmock_main.cc",
    ]),
    raw_headers = glob([
        "googletest/include/gtest/*.h",
        "googlemock/include/gmock/*.h",
    ]),
    public_system_include_directories = [
        "googletest/include",
        "googletest",
        "googlemock/include",
        "googlemock",
    ],
    visibility = ["PUBLIC"],
)
